plugins {
	id 'java-library'
}

version = '2.0.0'

repositories {
	mavenCentral()
}

compileJava {
	targetCompatibility '21'
	sourceCompatibility '21'
}

dependencies {
	compileOnly libs.net.portswigger.burp.extender.burp.extender.api
	compileOnly libs.org.bouncycastle.bcpkix.jdk15on

	implementation libs.com.sun.xml.security.xml.security.impl
	implementation libs.org.apache.santuario.xmlsec
	implementation libs.xerces.xercesimpl

	testImplementation libs.junit.junit
	testImplementation libs.net.portswigger.burp.extender.burp.extender.api
	testImplementation libs.org.bouncycastle.bcpkix.jdk15on
}

tasks.register('fatJar', Jar) {
	duplicatesStrategy = DuplicatesStrategy.EXCLUDE
	from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
	with jar
}

